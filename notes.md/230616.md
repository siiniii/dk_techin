### 도커 컨테이너의 특징

-   가상머신과 비교하여 컨테이너 생성이 쉽고 효율적
-   컨테이너 이미지를 이용한 배포와 롤백이 간단
-   언어나 프레임워크에 상관없이 애플리케이션을 동일한 방식으로 관리
-   개발, 테스팅, 운영 환경은 물론 로컬 피시와 클라우드까지 동일한 환경을 구축
-   특정 클라우드 벤더에 종속적이지 않음

### Container Orchestration

컨테이너화 된 애플리케이션에 대한 자동화된 설정, 관리 및 제어 체계

레드햇(Red Hat)의 정의에 따르면, IT 업계에서 오케스트레이션(Orchestration)이란 용어는 "컴퓨터 자원과 어플리케이션, 서비스에 대한 자동화된 설정, 관리 및 제어 체계"를 의미한다.

클러스터 : 공통의 목적을 위해 작동하는 컴퓨터 또는 애플리케이션들의 그룹

### 어떻게 클라우드 환경에서 애플리케이션을 배포하는게 좋을까?

클라우드 네이티브 컴퓨팅은 클라우드 컴퓨팅을 활용하여 "퍼블릭, 프라이빗 및 하이브리 드 클라우드와 같은 현대적이고 역동적인 환경에서 확장 가능한 애플리케이션을 구축하고 실행"하는 소프트웨어 개발 접근 방식이다.

쿠버네티스 위에서 클라우드에 우울리는 배포시스템 구축이 용이하다.

### 파드(pod)

쿠버네티스에서 관리하는 컨테이너 단위

컨테이너와 볼륨을 하나로 묵은 것(볼륨이 없는 경우도 있음)

1개의 컨테이너 또는 여러 개의 컨테이너로 구성될 수도 있음

쿠버네티스에서 생성하고 관리할 수 있는 배포 가능한 가장 작은 컴퓨팅 단위

### 서비스(service)

여러 개의 파드를 하나로 관리

서비스가 관리하는 파드는 모두 동일한 구성으로 이루어짐.

### 레플리카세트

파드의 수를 관리하는 역할

장애등으로 파드가 종료됐을 때 부족한 파드를 보충하거나 저의 파일에 파드 수가 감소하면 파드 수를 실제로 감소시킴

레플리카세트의 목적은 레플리카 파드 집합의 실행을 항상 안정적으로 유지하는 것이다. 이처럼 레플 리카셋은 보통 명시된 동일 파드 개수에 대한 가용성을 보증하는데 사용한다.

---

### CI/CD

매번 개발자가 코드를 수정하고 빌드와 테스트를 하고 배포까지 한다면 상당히 많은 시간이 소요된 다. 하지만 git에 코드를 올리는 것만으로도 빌드와 테스트, 배포까지 자동화된다면, 쓸데없는 시간 을 단축시키고 개발에 더 많은 시간을 투자할 수 있다.

CI는 빌드/테스트 자동화 과정 과정. CD는 배포 자동화 과정이다.

### 깃허브 액션

깃허브에서 제공하는 CI/CD 플랫폼으로 빌드, 테스트, 배포를 자동화시키는 파이프라인을 만들 수 있다.

깃허브 액션을 통해 깃허브에 소스코드가 올라(push, merge)오면 테스트, 빌드, 도커 이미지 빌드, 도커 허브 업로드 또는 서버리스를 위한 클라우드로의 업로드 등을 자동으로 수행하는 파이프라인을 구축할 수 있다.

GitHub Actions를 사용하면 자동으로 코드 저장소에서 어떤 이벤트(event)가 발생했을 때 특정 작업이 일어나게 하거나 주기적으로 어떤 작업들을 반복해서 실행시킬 수도 있다.

### GitHub Action 구성 요소

**Event**

워크플로우 실행을 발동시키는 특정한 활동

깃허브에 소스코드를 푸시하면 발생하는 push event,
머지하면 발생하는 pull request event 등 깃허브에서 발생하는 대부분의 작업을 event로 정의할 수 있음

**Workflows**

자동화하려는 내용을 담고 있는 스크립트(자동화 해놓은 작업 과정)

한 개 이상의 job을 실행할 수 있는 자동화된 작업

YAML 파일로 저장되며 event 발생시 실행 됨

**Jobs**

어떤 이벤트가 발생했을 때 독립된 환경에서 실행되야 하는 일련의 일을 하나 이상의 작업(job)이 하나의 워크플로우(workflow)를 구성

여러 step들로 구성됨.

각각의 step들은 일종의 shell script 처럼 실행

Job은 다른 Job에 의존관계를 가질 수 있으며, 디폴트는 모든 잡들이 병렬적으로 실행 됨

**Actions**

복잡하고 자주 반복되는 작업을 정의한 커스텀 어플리케이션 – 공개적으로 오픈된 액션들

워크플로우 안에서 자주 반복되는 코드를 미리 정의해 코드의 양을 줄일 수 있음

깃허브 마켓플레이스를 통해 공용 Action 또는 다른 사람들이 만든 Action을 사용할 수 있음

**Runners**
job을 실행시키는 역할

VM Machine 또는 Docker Container 기반에서 job 마다 개별적이고 독립적으로 실행시킴

### 액션(Action) 활용

GitHub Actions는 CI(Continuous Integration, 지속 통합) 또는 CD(Continuous Deployment, 지 속 배포)와 같은 자동화 작업을 위해 워크플로우(workflow)를 작성하는데 여기에는 자주 반복되는 작업이 있을 수도 있다. 액션(Action)은 이렇게 빈번하게 반복되는 step을 재사용하기 용이하도록
